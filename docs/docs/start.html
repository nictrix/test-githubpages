<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Getting Started with Kitchen-Terraform</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <link href="/test-githubpages/stylesheets/highlighting.css" rel="stylesheet" />
    <link href="/test-githubpages/stylesheets/site.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
    <script src="/test-githubpages/javascripts/site.js"></script>
  </head>
  <body>
    <nav class="navbar fixed-top navbar-expand-lg navbar-light header">
      <a href="/" class="navbar-brand">Kitchen-Terraform</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a href="/test-githubpages/docs/start.html" class="nav-link">Getting Started</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/docs/index.html">Docs</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/examples/index.html">Examples</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/about.html">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/community/index.html">Community</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/newcontext-oss/kitchen-terraform">
              Contribute
            </a>
          </li>
        </ul>
      </div>
    </nav>
    <div class="content text-left">
      <div class="container" style="padding-top: 0px;">
  <div class="row">
    <div class="col-12">
      <div class="jumbotron">
        <h1 class="display-3">
          Getting Started
        </h1>
        <p class="lead">
          A quick guide to get started with Kitchen-Terraform.
          <br><br>
          Provides instructions to install dependencies, start a brand new Terraform <a href="https://www.terraform.io/docs/configuration/modules.html">module</a> and write Inspec tests for the module.
        </p>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-4">
      <div class="list-group" id="list-tab" role="tablist">
        <a class="list-group-item list-group-item-action active" id="list-home-list" data-toggle="list" href="#list-home" role="tab" aria-controls="home">
          1. Gather Dependencies
        </a>
        <a class="list-group-item list-group-item-action" id="list-profile-list" data-toggle="list" href="#list-profile" role="tab" aria-controls="profile">
          2. Create Project
        </a>
        <a class="list-group-item list-group-item-action" id="list-messages-list" data-toggle="list" href="#list-messages" role="tab" aria-controls="messages">
          3. Create/Run Terraform code
        </a>
        <a class="list-group-item list-group-item-action" id="list-settings-list" data-toggle="list" href="#list-settings" role="tab" aria-controls="settings">
          4. Create/Run Inspec Tests
        </a>
      </div>
    </div>
    <div class="col-8">
      <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane fade show active" id="list-home" role="tabpanel" aria-labelledby="list-home-list">
          Install Terraform: <a href="https://www.terraform.io/downloads.html">
            https://www.terraform.io/downloads.html
          </a>
          <br>
          Install Ruby: <a href="https://www.ruby-lang.org/en/documentation/installation/">
            https://www.ruby-lang.org/en/documentation/installation/
          </a>
          <br><br>
          Additional installation methods:
          <br><br>
          <div class="row">
            <div class="col-sm">
              Mac OS (homebrew):
<div class="highlight"><pre class="syntax-highlight shell"><code>  brew install terraform
  brew install ruby
</code></pre></div>            </div>
            <div class="col-sm">
              Version managers:<br>
              <a href="https://github.com/kamatama41/tfenv">tfenv</a>
              <br>
              <a href="https://github.com/rbenv/rbenv">rbenv</a>
            </div>
          </div>
        </div>
        <div class="tab-pane fade" id="list-profile" role="tabpanel" aria-labelledby="list-profile-list">
<div class="highlight"><pre class="syntax-highlight shell"><code><span class="c"># Create module and folder structure</span>
mkdir <span class="nt">-p</span> my_terraform_module <span class="o">&amp;&amp;</span> <span class="nb">cd </span>my_terraform_module

mkdir <span class="nt">-p</span> <span class="nb">test</span>/integration/example/controls <span class="se">\</span>
         <span class="nb">test</span>/fixtures/example/

<span class="c"># Create GEM file</span>
<span class="o">(</span>
<span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="no">EOP</span><span class="sh">
source "https://rubygems.org/" do
  gem "kitchen-terraform", "~&gt; 2.0"
end
</span><span class="no">EOP
</span><span class="o">)</span> <span class="o">&gt;</span> Gemfile

<span class="c"># Install kitchen-terraform and other rubygems</span>
<span class="c"># If needed run `gem install bundler`</span>
bundle install

<span class="c"># Create .kitchen.yml</span>
<span class="o">(</span>
<span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="no">EOP</span><span class="sh">
---
driver:
  name: "terraform"
  directory: "test/fixtures/example"
  parallelism: 4
provisioner:
  name: "terraform"
transport:
  name: "ssh"
verifier:
  name: "terraform"
  groups:
    - name: "example"
      controls:
        - "example"
platforms:
  - name: "terraform"
suites:
  - name: "example"
</span><span class="no">EOP
</span><span class="o">)</span> <span class="o">&gt;</span> .kitchen.yml
</code></pre></div>        </div>
        <div class="tab-pane fade" id="list-messages" role="tabpanel" aria-labelledby="list-messages-list">
<div class="highlight"><pre class="syntax-highlight shell"><code><span class="c"># Create Terraform module code</span>
<span class="o">(</span>
<span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="no">EOP</span><span class="sh">
resource "null_resource" "example" {
  provisioner "local-exec" {
    command = "echo 'this is my first test' &gt; foobar"
  }
}
</span><span class="no">EOP
</span><span class="o">)</span> <span class="o">&gt;</span> main.tf

<span class="c"># Create Terraform fixture code</span>
<span class="c"># that calls the module's Terraform code</span>
<span class="c"># to help simulate the module's code</span>
<span class="o">(</span>
<span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="no">EOP</span><span class="sh">
module "example" {
  source = "../../.."
}
</span><span class="no">EOP
</span><span class="o">)</span> <span class="o">&gt;</span> <span class="nb">test</span>/fixtures/example/main.tf

<span class="c"># Run the Terraform code</span>
bundle <span class="nb">exec </span>kitchen converge
</code></pre></div>        </div>
        <div class="tab-pane fade" id="list-settings" role="tabpanel" aria-labelledby="list-settings-list">
<div class="highlight"><pre class="syntax-highlight shell"><code><span class="c"># Create inspec.yml</span>
<span class="o">(</span>
<span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="no">EOP</span><span class="sh">
---
name: example
</span><span class="no">EOP
</span><span class="o">)</span> <span class="o">&gt;</span> <span class="nb">test</span>/integration/example/inspec.yml

<span class="c"># Create Inspec control test file</span>
<span class="o">(</span>
<span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="no">EOP</span><span class="sh">
# frozen_string_literal: true

control "example" do
  describe file('.kitchen/kitchen-terraform/example-terraform/foobar') do
    it { should exist }
  end
end
</span><span class="no">EOP
</span><span class="o">)</span> <span class="o">&gt;</span> <span class="nb">test</span>/integration/example/controls/example.rb

<span class="c"># Run the Inspec code</span>
bundle <span class="nb">exec </span>kitchen verify
</code></pre></div>          And that's it, you wrote your first kitchen-terraform test suite! Please take a peek at our <a href="/docs/index.html">docs</a> and <a href="/examples/index.html">examples</a> for additional information.
        </div>
      </div>
    </div>
  </div>
</div>

    </div>
    <footer class="footer">
      <div class="container">
        <span class="text-muted">Community driven, created and maintained by
          <a href="http://newcontext.com">
            <img src="/test-githubpages/images/newcontext_logo.png" class="d-inline-block" style="vertical-align: sub;" width="30" height="24" alt="newcontext logo" />
            New Context Services, Inc.
          </a>
        </span>
      </div>
    </footer>
  </body>
</html>
